# HardChess

เกมหมากรุกแบบคอนโซลที่เขียนด้วยภาษา C++ มีระบบเล่นแบบเทิร์นและการแสดงผลกระดานแบบ ASCII

## คุณสมบัติ

- ✅ กติกาหมากรุกมาตรฐาน
- ✅ การเดินทุกตัวหมาก (เบี้ย, ป้อม, ม้า, โคน, นางพญา, กษัตริย์)
- ✅ การเลื่อนยศเบี้ย (Pawn Promotion)
- ✅ การแสดงผลกระดานแบบ ASCII
- ✅ ระบบผู้เล่น 2 คน
- ✅ การตรวจสอบ Checkmate และ Stalemate
- ✅ รองรับการป้อนคำสั่งแบบ Algebraic Notation

## โครงสร้างไฟล์

```
HardChess/
├── src/                      # ไฟล์ซอร์สโค้ด (.cpp)
│   ├── Core/                 # ตรรกะหลักของเกม
│   │   ├── Piece.cpp
│   │   ├── Pawn.cpp
│   │   ├── Rook.cpp
│   │   ├── Knight.cpp
│   │   ├── Bishop.cpp
│   │   ├── Queen.cpp
│   │   ├── King.cpp
│   │   ├── Board.cpp         # การแสดงผลกระดานแบบ ASCII
│   │   ├── Player.cpp
│   │   └── Game.cpp
│   ├── UI/                   # ส่วนติดต่อผู้ใช้
│   │   └── ConsoleUI.cpp
│   └── main.cpp              # จุดเริ่มต้นของโปรแกรม
│
├── include/                  # ไฟล์ Header (.h)
│   └── HardChess/
│       ├── Core/
│       │   ├── CommonTypes.h
│       │   ├── Piece.h
│       │   ├── Pawn.h
│       │   ├── Rook.h
│       │   ├── Knight.h
│       │   ├── Bishop.h
│       │   ├── Queen.h
│       │   ├── King.h
│       │   ├── Board.h
│       │   ├── Player.h
│       │   └── Game.h
│       └── UI/
│           └── ConsoleUI.h
│
├── doc/                      # เอกสารประกอบ
│   └── README.md             # ไฟล์นี้
├── Makefile                  # ไฟล์สำหรับ Build โปรแกรม
└── .gitignore
```

## การติดตั้งและการใช้งาน

### ความต้องการของระบบ

- C++ Compiler ที่รองรับ C++11 หขึ้นไป (g++, clang++)
- Make utility
- ระบบปฏิบัติการ Linux, macOS หรือ Windows (with MinGW)

### วิธีการคอมไพล์และรัน

1. **คลอนหรือดาวน์โหลดโปรเจกต์**
```bash
git clone <repository-url>
cd HardChess
```

2. **คอมไพล์โปรแกรม**
```bash
make
```

3. **รันเกม**
```bash
./HardChess
```

4. **ลบไฟล์ที่คอมไพล์แล้ว (ถ้าต้องการ)**
```bash
make clean
```

## วิธีการเล่น

### การเริ่มเกม

1. รันโปรแกรมแล้วจะเจอเมนูหลัก
2. เลือก "1. Start Game" เพื่อเริ่มเล่น
3. เลือก "2. Help & Rules" เพื่อดูกติกา
4. เลือก "3. Exit" เพื่อออกจากเกม

### การป้อนคำสั่งเดินหมาก

ใช้รูปแบบ **Algebraic Notation** เช่น:

- `e2e4` - เดินเบี้ยจาก e2 ไป e4
- `Ng1f3` - เดินม้าจาก g1 ไป f3
- `a7a8q` - เดินเบี้ยจาก a7 ไป a8 และเลื่อนยศเป็นนางพญา

### การเลื่อนยศเบี้ย

เมื่อเบี้ยถึงแถวสุดท้าย สามารถเลื่อนยศได้โดย:
- `q` = นางพญา (Queen)
- `r` = ป้อม (Rook)  
- `b` = โคน (Bishop)
- `n` = ม้า (Knight)

ตัวอย่าง: `a7a8q` (เดินเบี้ยไป a8 และเลื่อนยศเป็นนางพญา)

### คำสั่งพิเศษ

- พิมพ์ `exit` หรือ `quit` เพื่อออกจากเกมได้ตลอดเวลา

## สัญลักษณ์ตัวหมาก

| ตัวหมาก | สีขาว | สีดำ |
|---------|-------|------|
| เบี้ย (Pawn) | ♙ | ♟ |
| ป้อม (Rook) | ♖ | ♜ |
| ม้า (Knight) | ♘ | ♞ |
| โคน (Bishop) | ♗ | ♝ |
| นางพญา (Queen) | ♕ | ♛ |
| กษัตริย์ (King) | ♔ | ♚ |

## ตัวอย่างการเล่น

```
==============================
      HARD CHESS MAIN MENU    
==============================
1. Start Game
2. Help & Rules
3. Exit
Enter your choice (1-3): 1

    a b c d e f g h 
  +-----------------+
8 | ♜ ♞ ♝ ♛ ♚ ♝ ♞ ♜ | 8
7 | ♟ ♟ ♟ ♟ ♟ ♟ ♟ ♟ | 7
6 | . . . . . . . . | 6
5 | . . . . . . . . | 5
4 | . . . . . . . . | 4
3 | . . . . . . . . | 3
2 | ♙ ♙ ♙ ♙ ♙ ♙ ♙ ♙ | 2
1 | ♖ ♘ ♗ ♕ ♔ ♗ ♘ ♖ | 1
  +-----------------+
    a b c d e f g h 

--- Player1's Turn (White) ---
Player1, enter your move (e.g., e2e4 or a7a8q for promotion, or type 'exit' to quit): e2e4
```

## 📋 Requirements Specification

### Functional Requirements (ความต้องการเชิงหน้าที่)

#### 🎮 Core Game Features

- **การเล่นหมากรุก**: ระบบต้องรองรับการเล่นหมากรุกตามกติกามาตรฐานสากล
- **การเดินหมาก**: ผู้เล่นสามารถเดินหมากได้ทุกชนิด (เบี้ย, ป้อม, ม้า, โคน, นางพญา, กษัตริย์)
- **การตรวจสอบการเดิน**: ระบบตรวจสอบว่าการเดินหมากถูกต้องตามกติกาหรือไม่
- **การจับหมาก**: เมื่อหมากเดินไปยังตำแหน่งที่มีหมากฝ่ายตรงข้าม ต้องสามารถจับหมากได้
- **การเลื่อนยศเบี้ย**: เมื่อเบี้ยถึงแถวสุดท้าย ผู้เล่นสามารถเลื่อนยศเป็นหมากชนิดอื่นได้

#### 🏆 Game Management

- **ระบบผู้เล่น 2 คน**: รองรับการเล่น 2 คนสลับกันเดินหมาก
- **การตรวจสอบชนะ-แพ้**: ระบบตรวจสอบ Checkmate และ Stalemate
- **ระบบคะแนน**: เก็บคะแนนและจำนวนหัวใจของผู้เล่นแต่ละคน
- **การจบเกม**: แสดงผลผู้ชนะเมื่อเกมจบลง

#### 💻 User Interface

- **เมนูหลัก**: แสดงตัวเลือกเริ่มเกม, ดูกติกา, และออกจากเกม
- **การแสดงกระดาน**: แสดงกระดานหมากรุกแบบ ASCII พร้อมพิกัด
- **การรับ Input**: รับคำสั่งการเดินหมากจากผู้เล่นแบบ Algebraic Notation
- **การแสดงสถานะ**: แสดงข้อมูลผู้เล่น คะแนน และสถานะปัจจุบัน

#### 🔄 Game Flow Control

- **การสลับเทิร์น**: ระบบสลับเทิร์นระหว่างผู้เล่นอัตโนมัติ
- **การออกจากเกม**: ผู้เล่นสามารถพิมพ์ 'exit' เพื่อออกจากเกมได้ตลอดเวลา
- **การแสดงข้อความ**: แสดงข้อความแจ้งเตือนและคำแนะนำต่างๆ

### Non-Functional Requirements (ความต้องการเชิงคุณภาพ)

#### ⚡ Performance (ประสิทธิภาพ)

- **Response Time**: ระบบตอบสนองการเดินหมากภายใน 1 วินาที
- **Memory Usage**: ใช้หน่วยความจำไม่เกิน 50 MB ในการรันเกม
- **CPU Usage**: ใช้ทรัพยากร CPU ต่ำไม่เกิน 5% ในสถานะปกติ

#### 🛡️ Reliability (ความน่าเชื่อถือ)

- **Stability**: เกมต้องไม่ crash ในระหว่างการเล่นปกติ
- **Error Handling**: จัดการ input ผิดพลาดได้อย่างเหมาะสม
- **Data Integrity**: สถานะของเกมต้องถูกต้องตลอดเวลา

#### 🔧 Usability (ความสะดวกใช้)

- **User-Friendly Interface**: อินเทอร์เฟซง่ายต่อการใช้งานและเข้าใจ
- **Clear Instructions**: มีคำแนะนำการเล่นและกติกาที่ชัดเจน
- **Input Validation**: ตรวจสอบและแจ้งเตือนเมื่อ input ไม่ถูกต้อง
- **Consistent Display**: การแสดงผลมีรูปแบบที่สม่ำเสมอ

#### 🏗️ Maintainability (ความสามารถในการดูแลรักษา)

- **Code Structure**: โค้ดมีโครงสร้างที่เข้าใจง่ายและแยกหน้าที่ชัดเจน
- **Documentation**: มีเอกสารประกอบและคอมเมนต์ในโค้ด
- **Modularity**: ออกแบบเป็นโมดูลที่สามารถแก้ไขหรือเพิ่มฟีเจอร์ได้ง่าย
- **Testing**: สามารถทดสอบการทำงานของแต่ละส่วนได้

#### 🔄 Portability (ความสามารถในการพกพา)

- **Cross-Platform**: ทำงานได้บนระบบปฏิบัติการหลักๆ (Linux, macOS, Windows)
- **Compiler Independence**: คอมไพล์ได้ด้วย C++ compiler ต่างๆ
- **Minimal Dependencies**: ใช้ไลบรารีภายนอกน้อยที่สุด

#### 📊 Scalability (ความสามารถในการขยาย)

- **Feature Extension**: สามารถเพิ่มฟีเจอร์ใหม่ได้ง่าย เช่น AI Player
- **Rule Modification**: สามารถปรับเปลี่ยนหรือเพิ่มกติกาได้
- **UI Enhancement**: สามารถเปลี่ยนหรือเพิ่มรูปแบบ UI ได้

#### 🔒 Security (ความปลอดภัย)

- **Input Sanitization**: ตรวจสอบและทำความสะอาด input จากผู้ใช้
- **Buffer Overflow Protection**: ป้องกันการเขียนข้อมูลเกินขอบเขต
- **Safe Memory Management**: จัดการหน่วยความจำอย่างปลอดภัย

## การพัฒนาและปรับปรุง

### การแก้ไขโค้ด

- ไฟล์ตรรกะหลักอยู่ในโฟลเดอร์ `src/Core/`
- ไฟล์ UI อยู่ในโฟลเดอร์ `src/UI/`
- ไฟล์ Header ทั้งหมดอยู่ในโฟลเดอร์ `include/HardChess/`

### การเพิ่มฟีเจอร์ใหม่

1. เพิ่มคลาสใหม่ใน `src/Core/` และ `include/HardChess/Core/`
2. อัพเดต `Makefile` ให้รวมไฟล์ใหม่
3. ทดสอบและคอมไพล์ใหม่

## 💡 Object-Oriented Programming (OOP) Usage Summary

โปรเจกต์นี้ออกแบบโดยใช้แนวคิดของ **Object-Oriented Programming (OOP)** อย่างเป็นระบบ โดยมีรายละเอียดดังนี้:

### ✅ ใช้ OOP อย่างเหมาะสม (4 pts)

โครงสร้างหลักของโปรเจกต์นี้ยึดตามแนวคิด OOP ซึ่งรวมถึงการแยกความรับผิดชอบของแต่ละคลาสอย่างชัดเจน เช่น:

- `Piece` เป็น abstract class ที่นิยามพฤติกรรมพื้นฐานของหมาก
- `Queen` และคลาสอื่นๆ เช่น `Pawn`, `Rook` สืบทอดพฤติกรรมจาก `Piece` และกำหนดการเคลื่อนไหวเฉพาะตัว
- `Board` เป็นคลาสที่ดูแลสถานะของกระดานหมากรุก
- `Game` เป็นคลาสที่ควบคุม flow ของเกม
- `Player` แสดงถึงผู้เล่นและสถานะต่างๆ เช่น คะแนนและหัวใจ

แนวคิดหลักของ OOP เช่น **Encapsulation**, **Polymorphism**, **Inheritance**, และ **Abstraction** ถูกนำมาใช้อย่างครบถ้วน

### ✅ มี class เพิ่มเติมอย่างน้อย 2 classes (2 pts each = 4 pts)

ภายในระบบมีคลาสหลักมากกว่า 2 คลาส โดยเฉพาะ:

1. `Board` – จัดการกับสถานะของกระดานและหมากทั้งหมด
2. `Game` – ควบคุมการเล่นและตรวจสอบสถานะของเกม
3. `Player` – เก็บข้อมูลของผู้เล่น รวมถึงหัวใจ (hearts) และคะแนน (score)

ทั้งหมดนี้เป็นคลาสที่แยกออกจาก `Piece` และมีหน้าที่ชัดเจน

### ✅ มี inheritance อย่างน้อย 2 ครั้ง (2 pts each = 4 pts)

ระบบมีการใช้ **inheritance** อย่างชัดเจนในหลายกรณี ตัวอย่างเช่น:

1. `Queen` สืบทอดจาก `Piece` และ override เมธอด `isValidMove`, `getSymbol`, `clone` ฯลฯ
2. หมากอื่นๆ เช่น `Pawn`, `Rook`, `Bishop`, `King` ก็จะมีการสืบทอดจาก `Piece` เช่นกัน

สิ่งนี้ช่วยให้การเพิ่มหมากชนิดใหม่ทำได้ง่าย และลดการเขียนโค้ดซ้ำซ้อน

### ✅ มีการแก้ไขข้อมูลบนบอร์ด/เกมส์ (3 pts)

ระบบมีเมธอดสำหรับ **การแก้ไขสถานะของเกมและกระดาน** อย่างชัดเจน:

- `Board::setPiece`, `removePiece`, `movePiece` – สำหรับจัดการการเคลื่อนหมากและจับหมาก
- `Board::promotePawn` – ใช้เปลี่ยนหมากเบี้ยเมื่อถึงท้ายกระดาน
- `Game::makeMove` – ตรวจสอบและดำเนินการเคลื่อนที่แต่ละตา
- `Player::loseHeart`, `incrementScore` – อัปเดตสถานะของผู้เล่น

การออกแบบนี้แสดงให้เห็นถึงการจัดการ state ที่ชัดเจนและมีประสิทธิภาพ

## 🚀 Future Enhancements

- [ ] เพิ่ม AI Player สำหรับเล่นคนเดียว
- [ ] รองรับ Castling และ En Passant
- [ ] บันทึกและโหลดเกม (Save/Load)
- [ ] ระบบ Undo/Redo
- [ ] การแสดงผลแบบ GUI
- [ ] เล่นออนไลน์ผ่าน Network
- [ ] ระบบ Tournament Mode
- [ ] การวิเคราะห์การเดินและคำแนะนำ

## ข้อมูลเพิ่มเติม

- โปรแกรมนี้ใช้กติกาหมากรุกมาตรฐานสากล
- รองรับการเล่น 2 คนบนเครื่องเดียวกัน
- ไม่มีระบบ AI (ยัง)
- ไม่รองรับ Castling และ En Passant (ยัง)

## 🐛 Known Issues

- การตรวจสอบ Check ยังไม่สมบูรณ์ในบางกรณี
- ยังไม่รองรับ Special Moves (Castling, En Passant)
- การแสดงผลอาจมีปัญหาบน Terminal บางตัว

## 🤝 Contributing

การมีส่วนร่วมในการพัฒนายินดีต้อนรับ! กรุณา:

1. Fork โปรเจกต์
2. สร้าง Feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit การเปลี่ยนแปลง (`git commit -m 'Add some AmazingFeature'`)
4. Push ไปยัง Branch (`git push origin feature/AmazingFeature`)
5. เปิด Pull Request

## 📝 License

โปรเจกต์นี้เป็น Open Source สามารถนำไปใช้และพัฒนาต่อได้อย่างอิสระ

## 👥 Authors

- **[Your Name]** - *Initial work* - [YourGitHub](https://github.com/yourusername)

## 🙏 Acknowledgments

- ขอบคุณชุมชน C++ และผู้พัฒนาเกมหมากรุกทุกท่าน
- แรงบันดาลใจจากเกมหมากรุกคลาสสิก
- เอกสารอ้างอิงจาก Chess Programming Wiki

---

**หมายเหตุ:** หากพบปัญหาหรือต้องการสอบถาม กรุณาติดต่อผู้พัฒนาหรือเปิด Issue บน GitHub